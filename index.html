<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width" />
	<title>NorthernPowerGrid Future Energy Scenarios</title>
	<link rel="StyleSheet" href="resources/nouislider.min.css" type="text/css" />
	<link rel="StyleSheet" href="resources/leaflet.css" type="text/css" />
	<link rel="StyleSheet" href="resources/style.css" type="text/css" />
	<link href="favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon">
	<script type="text/javascript" src="resources/stuquery.js"></script>
	<script type="text/javascript" src="resources/nouislider.min.js"></script>
	<script type="text/javascript" src="resources/npg.js"></script>
	<script type="text/javascript" src="resources/leaflet.js"></script>
	<style>
	h1 { line-height: 2em; font-size: 1.5em; }
	#map { 
		height: 500px;
		display: block;
		width: 100%;
	}
	header .holder, .holder, footer .holder { padding-left: 1em; padding-right: 1em; }
	.columns { display: flex; padding-top: 2em; padding-bottom: 2em; }
	.left { width: 30%; max-width: 300px; margin-right: 2em; }
	.right { width: 70%; }
	h2 { font-size: 1.4em; font-weight: bold; margin-top: 0.5em; margin-bottom: 0.25em; }
	.left h2 { font-size: 1em; }
	h3 { font-size: 1.2em; margin-top: 1em; margin-bottom: 0.5em; }
	p { margin-bottom: 1em; }
	.spinner { position: absolute; left: 50%; top: 50%; transform: translate3d(-50%,-50%,0); z-index: 1000; }
	.spinner img { width: 5em; margin: auto; }
	footer a:visited { color: inherit; }
	#scenario .about { font-weight: bold; }
	#scenario ul, footer ul { list-style: disc; margin-left: 1em; }
	input, select { font: inherit; line-height: 2em; width: 100%; height: 2em; }
	select option:hover, select option:checked { filter: hue-rotate(90deg); }
	footer ul { margin-left: 2em; }
	.message .padded { padding: 0.5em 0; }
	#slider { margin-top: 1em; margin-bottom: 3em; }
	.noUi-handle { box-shadow: inset 0 0 1px #FFF,inset 0 1px 7px #EBEBEB; }
	.noUi-target, .noUi-handle, input, select, #scale .bar { border: 1px solid #444444; }
	.noUi-connects, .noUi-target, .noUi-handle { border-radius: 0px; }
	#scale .bar { margin-top: 0.5em; height: 1em; }
	#scale .min { float: left; padding-left: 0.25em; }
	#scale .max { float: right; padding-right: 0.25em; }


	/* form toggle */
	.toggleinput { vertical-align: middle; }
	.toggle-label1, .toggle-label2 { display: inline; position: relative; cursor: pointer; }
	.toggle-bg { display: inline-block; }
	.toggle-label1 { margin-right: 5px; }
	.toggle-label2 { margin-left: 5px; }
	.toggle-bg {
		background: #cccccc;
		border-radius: 1em;	
		box-shadow: inset 0 0 3px rgba(0,0,0,0.4), inset 0 10px 0px rgba(0,0,0,0.05);
		position: relative;
		cursor: pointer;
		white-space: nowrap;
	}
	.toggle-bg input {
		height: 1.25em;
		left: 0;
		margin: 0; /* Reset the margins and padding */
		opacity: 0.0; /* Invisible! */
		padding: 0;
		position: absolute;
		top: 0;
		z-index: 0;
		cursor: pointer;
	}
	/* As we are hiding the radio buttons we will make the switch glow when the radio button receives focus. We need to use some sibling selectors. */
	.toggle-bg input:focus + .switch, .toggle-bg input:focus + input + .switch, .toggle-bg input:hover + .switch, .toggle-bg input:hover + input + .switch {
		box-shadow: 0 1px 1px #65727b, 0 0 1px #b6bdc2, 0 0 4px 2px #3366dd;
	}
	.switch{
		cursor: pointer;
		background: #ffffff;
		border-radius: 1em;
		box-shadow: 0 1px 1px #65727b, 0 0 1px #b6bdc2;
		display: inline-block;
		left: -1px; /* This is the starting point. When adding a border radius, a small bit of the background is shown if we use left: 0;, so -1px is best.*/
		position: absolute;
		top: 0; /* ...To keep it centered vertically */
		transition: left .25s ease;
		z-index: 1; /* Remember, it must be below the invisible inputs */
	}
	.toggler.checked .switch { left: -1px; } /* initial toggle position */
	.toggler.checked .switch { left: 1.25em; } /* final relative toggle position */
	.toggle-bg input:checked { z-index: 0; }
	.toggle-bg, .toggle-bg input, .switch, .toggleinput label { height: 1.25em; }
	.toggle-bg, .toggle-bg input { width: 2.5em; }
	.toggle-label1, .toggle-label2 { top: -0.25em; }
	.switch { width: 1.25em; }
	</style>
</head>
<body>
	<header class="b1-bg">
		<div class="b1-bg glory">
			<div class="glory-opacity">
				<div class="holder">
					<a href="https://odileeds.org/"><img alt="ODI Leeds" src="https://odileeds.org/resources/images/odileeds.svg" title="ODI Leeds"></a>
				</div>
			</div>
		</div>
		<div class="c9-bg title">
			<div class="holder">
				<h1>Northern Powergrid Future Energy Scenarios</h1>
			</div>
		</div>
	</header>


	<div class="b6-bg" id="scenario">
		<div class="holder columns">
			<div class="left">
				<p><a href="https://www.northernpowergrid.com/">Northern Powergrid's</a> potential future scenarios as defined in the <a href="http://fes.nationalgrid.com/media/1409/fes-2019.pdf">National Grid Future Energy Scenarios</a>.</p>
				<h2><label for="scenarios">Choose a scenario</label>:</h2>
				<div id="scenario-holder"></div>
				<div class="about"></div>
				<h2><label for="parameters">Choose a parameter</label>:</h2>
				<div id="parameter-holder"></div>
				<h2><label for="views">View by</label>:</h2>
				<div id="view-holder"></div>
				<h2>Select year<span class="year"></span>:</h2>
				<div id="slider"></div>
				<h2><label for="scale-mode">Scale</label>:</h2>
				<div id="scale-holder" class="toggleinput toggler">
					<span class="toggle-label1">Relative</span>
					<div class="toggle-bg">
						<input type="checkbox" id="scale-mode" name="scale-mode" title="Select for an absolute scale" />
						<span class="switch"></span>
					</div>
					<label class="toggle-label2" for="scale-mode">Absolute</label>
				</div>
			</div>
			<div class="right">
				<div id="map">
					<div class="spinner">
						<img src="https://odileeds.org/resources/images/odi.svg" alt="Loading..." />
					</div>
				</div>
				<div id="scale"></div>
			</div>
		</div>
	</div>
	<div class="scenario padded">&nbsp;</div>
	<div class="b5-bg">
		<div class="holder padded">
			<h2>About this visualisation</h2>
			<h3>Predictions</h3>
			<p>Each modelled parameter is calculated by <a href="http://www.element-energy.co.uk/">Element Energy</a> for each of Northern Powergrid's Primary Supply Points.</p>
			<h3>Geographies</h3>
			<p>For this visualisation we have created <a href="data/maps/primaries-unique.geojson">geographies (polygons) for each Primary Supply Point</a> in Northern Powergrid's network. We chose to use <a href="https://www.ons.gov.uk/census/2001censusandearlier/dataandproducts/outputgeography/outputareas">Output Areas</a> (2011) as these are the building blocks of census geography as used by the <a href="https://www.ons.gov.uk/">Office of National Statistics</a>. We have used Northern Powergrid customer postcodes to identify each Output Area supplied by each Primary Supply Point. Output Areas with fewer than 10 customers connected to a Primary were excluded. This helped with anonymisation and also reduced data issues in the customer database e.g. incorrect customer postcodes. We construct representative geographies for each Primary Supply Point from the remaining Output Areas. In cases where multiple Primary Supply Points serve the same Output Area, that Output Area is assigned to the Primary Supply Point that serves the most customers there.</p>
			<p>Some Primary Supply Point geographies may show larger areas on the map than they cover in practice particularly in rural areas where network connectivity may be concentrated in specific parts of an Output Area. The areas shown here are representative for the purpose of showing the Future Energy Scenario model data and should not be relied upon for checking connectivity or to assess the terms of connection for specific premises.</p>
			<h3>Local Authority view</h3>
			<p>The model predictions have been created by Primary Supply Point and that is the definitive view. The Local Authority view is constructed from the Primary Supply Point values. We have found the proportion of a Primary Supply Point's customers in each Local Authority District (as defined in April 2019) by adding up the customers in each Output Area belonging to a specific Local Authority District. For some parameters (e.g. electric vehicles) the values from the Primary Supply Points are apportioned to each Local Authority District and then summed into totals. For values which can't be summed (e.g. Peak demand) we have shown the maximum value for any Primary Supply Point that serves a Local Authority.</p>
		</div>
	</div>
	<footer class="b1-bg">
		<div class="holder">
				<p>Created by Stuart Lowe &amp; Patrick Lake, <a href="http://odileeds.org/projects/">ODI Leeds</a> 2019.</p>
				<p>Energy scenario data &copy; NorthernPowerGrid.</p>
				<p><a href="https://geoportal.statistics.gov.uk/datasets/local-authority-districts-april-2019-boundaries-uk-bgc">Local Authority District boundaries</a>, <a href="https://geoportal.statistics.gov.uk/datasets/output-area-december-2011-generalised-clipped-boundaries-in-england-and-wales">Output Area boundaries</a>, and the <a href="https://geoportal.statistics.gov.uk/datasets/postcode-to-output-area-to-lower-layer-super-output-area-to-middle-layer-super-output-area-to-local-authority-district-august-2019-lookup-in-the-uk">conversion from Postcodes to Output Areas (2011) and Local Authority Districts (2019)</a> uses data from the ONS geo service. They are <a href="https://www.ons.gov.uk/methodology/geography/licences">released under the OGL</a>:</p>
				<ul>
					<li>Contains National Statistics data © Crown copyright and database right 2019</li>
					<li>Contains OS data © Crown copyright and database right 2019</li>
				</ul>
		</div>
	</footer>
</body>
</html>